import '../style/Main.scoped.scss'
import photoMe from '../assets/photoMe.png'
import React from 'react';
import { useState } from 'react';
import { useEffect } from "react";
import gsap from 'gsap';
import { ScrollTrigger } from 'gsap/ScrollTrigger';

function Header() {
  const lastURLElement = window.location.href.substring(window.location.href.lastIndexOf('/') + 1)
  const [selectedElement, setSelectedElement] = useState(lastURLElement)
  gsap.registerPlugin(ScrollTrigger)

  const circle = React.useRef(null);
  const navBar = React.useRef(null);
  const navBar2 = React.useRef(null);
  const navBar3 = React.useRef(null);
  const header = React.useRef(null);

  useEffect(() => {
    setSelectedElement(lastURLElement)
    if (selectedElement === '') {
      navBar.current.style.removeProperty('display')
      navBar2.current.style.display = 'none'
      // navBar3.current.style.display = 'none'
    } else if(selectedElement === 'contact') {
      navBar2.current.style.removeProperty('display')
      navBar.current.style.display = 'none'
      // navBar3.current.style.display = 'none'
    } else {
      // navBar3.current.style.removeProperty('display')
      navBar2.current.style.display = 'none'
      navBar.current.style.display = 'none'
    }
  }, [selectedElement])

  function handleClick(e) {
    console.log(e.target);
  }
  

  return (
    <>
      <header className="Header">
        <div className="headerCircle">
            <div ref={header} className='headerDesc'>
              <h1>Hello.</h1>
              <div className="nameDesc">
                      <p className='name'>Florian PALVADEAU.</p>
                      <span></span>
                      <p className='desc'>A creative front-end developer.</p>
              </div>
            </div>
            <img src={photoMe} alt ="profile picture"/>
            <svg ref={circle} xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="753.474" height="754.474" viewBox="0 0 753.474 754.474">
                    <defs>
                      <filter id="Tracé_14" x="0" y="0" width="753.474" height="754.474" filterUnits="userSpaceOnUse">
                        <feOffset dy="10" input="SourceAlpha"/>
                        <feGaussianBlur stdDeviation="3" result="blur"/>
                        <feFlood floodOpacity="0.161"/>
                        <feComposite operator="in" in2="blur"/>
                      </filter>
                      <filter id="Tracé_14-2" x="0" y="0" width="753.474" height="754.474" filterUnits="userSpaceOnUse">
                        <feOffset dy="3" input="SourceAlpha"/>
                        <feGaussianBlur stdDeviation="3" result="blur-2"/>
                        <feFlood floodOpacity="0.161" result="color"/>
                        <feComposite operator="out" in="SourceGraphic" in2="blur-2"/>
                        <feComposite operator="in" in="color"/>
                        <feComposite operator="in" in2="SourceGraphic"/>
                      </filter>
                    </defs>
                    <g data-type="innerShadowGroup">
                      <g transform="matrix(1, 0, 0, 1, 0, 0)" filter="url(#Tracé_14)">
                        <g id="Tracé_14-3" data-name="Tracé 14" transform="translate(9)" fill="none">
                          <path d="M367.737,0C491.219,0,600.486,60.862,667.3,154.4a365.815,365.815,0,0,1,68.172,213.336c0,3.046-.037,6.084-.109,9.051-4.839,198.946-167.579,358.686-367.628,358.686C164.641,735.474,0,570.832,0,367.737S164.641,0,367.737,0Z" stroke="none"/>
                          <path d="M 367.7369384765625 1.20001220703125 C 355.2335815429688 1.20001220703125 342.6242065429688 1.83673095703125 330.2592163085938 3.09246826171875 C 318.073486328125 4.33001708984375 305.8289489746094 6.19873046875 293.8656616210938 8.646728515625 C 270.3324890136719 13.46240234375 247.1844787597656 20.64794921875 225.0645751953125 30.00384521484375 C 203.3460083007812 39.19000244140625 182.3983764648438 50.56005859375 162.803466796875 63.79803466796875 C 143.3944702148438 76.91058349609375 125.1430053710938 91.96942138671875 108.5562133789062 108.5562133789062 C 91.96942138671875 125.1430053710938 76.91058349609375 143.3944702148438 63.79803466796875 162.803466796875 C 50.56005859375 182.3983764648438 39.19000244140625 203.3460083007812 30.00384521484375 225.0645751953125 C 20.64794921875 247.1844787597656 13.46240234375 270.3324890136719 8.646728515625 293.8656616210938 C 6.19873046875 305.8289489746094 4.33001708984375 318.073486328125 3.09246826171875 330.2592163085938 C 1.83673095703125 342.6242065429688 1.20001220703125 355.2335815429688 1.20001220703125 367.7369384765625 C 1.20001220703125 380.2402954101562 1.83673095703125 392.8496704101562 3.09246826171875 405.2146606445312 C 4.33001708984375 417.400390625 6.19873046875 429.6449279785156 8.646728515625 441.6082153320312 C 13.46240234375 465.1413879394531 20.64794921875 488.2893981933594 30.00384521484375 510.4093017578125 C 39.19000244140625 532.1278686523438 50.56005859375 553.0755004882812 63.79803466796875 572.67041015625 C 76.91058349609375 592.0794067382812 91.96942138671875 610.3308715820312 108.5562133789062 626.9176635742188 C 125.1430053710938 643.5045166015625 143.3944702148438 658.5632934570312 162.803466796875 671.6758422851562 C 182.3983764648438 684.913818359375 203.3460083007812 696.2838745117188 225.0645751953125 705.4700317382812 C 247.1844787597656 714.825927734375 270.3324890136719 722.011474609375 293.8656616210938 726.8271484375 C 305.8289489746094 729.275146484375 318.073486328125 731.1438598632812 330.2592163085938 732.3814086914062 C 342.6242065429688 733.6371459960938 355.2335815429688 734.2738647460938 367.7369384765625 734.2738647460938 C 380.0540161132812 734.2738647460938 392.4767456054688 733.6559448242188 404.6600341796875 732.4373168945312 C 416.6691284179688 731.2360229492188 428.7388610839844 729.421875 440.5338439941406 727.0451049804688 C 463.7392883300781 722.369140625 486.5838623046875 715.3888549804688 508.4330444335938 706.298095703125 C 529.88671875 697.3719482421875 550.6109619140625 686.3168334960938 570.0298461914062 673.43994140625 C 589.2596435546875 660.6884155273438 607.3895874023438 646.0319213867188 623.9158325195312 629.8777465820312 C 640.4330444335938 613.7325439453125 655.4943237304688 595.9486694335938 668.6812744140625 577.0202026367188 C 681.9837646484375 557.926025390625 693.5021362304688 537.4889526367188 702.9165649414062 516.276611328125 C 712.4954833984375 494.6935729980469 719.9973754882812 472.0769348144531 725.2137451171875 449.0546569824219 C 727.8634643554688 437.3601989746094 729.960205078125 425.3822021484375 731.4456787109375 413.4534912109375 C 732.9521484375 401.3558349609375 733.8670043945312 389.0100402832031 734.1650390625 376.759033203125 C 734.2371826171875 373.7906799316406 734.2738647460938 370.7552185058594 734.2738647460938 367.7369384765625 C 734.2738647460938 342.1010437011719 731.6154174804688 316.4953918457031 726.3723754882812 291.6313171386719 C 721.272216796875 267.4444885253906 713.68359375 243.74365234375 703.8173217773438 221.1873168945312 C 698.7081298828125 209.5062866210938 692.94384765625 197.9952392578125 686.6847534179688 186.9737548828125 C 680.4813232421875 176.0504150390625 673.6314697265625 165.3258666992188 666.3255615234375 155.0980224609375 C 649.7190551757812 131.849853515625 630.39208984375 110.5255126953125 608.8817749023438 91.71722412109375 C 587.2852172851562 72.833740234375 563.5078125 56.50518798828125 538.2100830078125 43.18511962890625 C 512.4661254882812 29.630126953125 485.1265869140625 19.1834716796875 456.9507446289062 12.1353759765625 C 442.6122131347656 8.54864501953125 427.8835754394531 5.8077392578125 413.1739501953125 3.98883056640625 C 398.2088623046875 2.1383056640625 382.9216613769531 1.20001220703125 367.7369384765625 1.20001220703125 M 367.7369384765625 0 C 491.2190246582031 0 600.4859619140625 60.86199951171875 667.302001953125 154.4005126953125 C 681.9642944335938 174.9268188476562 694.5712890625 197.053955078125 704.916748046875 220.7064208984375 C 724.5202026367188 265.5240173339844 735.473876953125 315.3512878417969 735.473876953125 367.7369384765625 C 735.473876953125 370.7833862304688 735.4368286132812 373.8211059570312 735.3646850585938 376.7882080078125 C 730.5260009765625 575.7345581054688 567.7859497070312 735.473876953125 367.7369384765625 735.473876953125 C 164.6414794921875 735.473876953125 0 570.8323974609375 0 367.7369384765625 C 0 164.6414794921875 164.6414794921875 0 367.7369384765625 0 Z" stroke="none" fill="#abc4ff"/>
                        </g>
                      </g>
                      <g transform="matrix(1, 0, 0, 1, 0, 0)" filter="url(#Tracé_14-2)">
                        <g id="Tracé_14-4" data-name="Tracé 14" transform="translate(9)" fill="#fff">
                          <path d="M367.737,0C491.219,0,600.486,60.862,667.3,154.4a365.815,365.815,0,0,1,68.172,213.336c0,3.046-.037,6.084-.109,9.051-4.839,198.946-167.579,358.686-367.628,358.686C164.641,735.474,0,570.832,0,367.737S164.641,0,367.737,0Z" stroke="none"/>
                          <path d="M 367.7369384765625 1.20001220703125 C 355.2335815429688 1.20001220703125 342.6242065429688 1.83673095703125 330.2592163085938 3.09246826171875 C 318.073486328125 4.33001708984375 305.8289489746094 6.19873046875 293.8656616210938 8.646728515625 C 270.3324890136719 13.46240234375 247.1844787597656 20.64794921875 225.0645751953125 30.00384521484375 C 203.3460083007812 39.19000244140625 182.3983764648438 50.56005859375 162.803466796875 63.79803466796875 C 143.3944702148438 76.91058349609375 125.1430053710938 91.96942138671875 108.5562133789062 108.5562133789062 C 91.96942138671875 125.1430053710938 76.91058349609375 143.3944702148438 63.79803466796875 162.803466796875 C 50.56005859375 182.3983764648438 39.19000244140625 203.3460083007812 30.00384521484375 225.0645751953125 C 20.64794921875 247.1844787597656 13.46240234375 270.3324890136719 8.646728515625 293.8656616210938 C 6.19873046875 305.8289489746094 4.33001708984375 318.073486328125 3.09246826171875 330.2592163085938 C 1.83673095703125 342.6242065429688 1.20001220703125 355.2335815429688 1.20001220703125 367.7369384765625 C 1.20001220703125 380.2402954101562 1.83673095703125 392.8496704101562 3.09246826171875 405.2146606445312 C 4.33001708984375 417.400390625 6.19873046875 429.6449279785156 8.646728515625 441.6082153320312 C 13.46240234375 465.1413879394531 20.64794921875 488.2893981933594 30.00384521484375 510.4093017578125 C 39.19000244140625 532.1278686523438 50.56005859375 553.0755004882812 63.79803466796875 572.67041015625 C 76.91058349609375 592.0794067382812 91.96942138671875 610.3308715820312 108.5562133789062 626.9176635742188 C 125.1430053710938 643.5045166015625 143.3944702148438 658.5632934570312 162.803466796875 671.6758422851562 C 182.3983764648438 684.913818359375 203.3460083007812 696.2838745117188 225.0645751953125 705.4700317382812 C 247.1844787597656 714.825927734375 270.3324890136719 722.011474609375 293.8656616210938 726.8271484375 C 305.8289489746094 729.275146484375 318.073486328125 731.1438598632812 330.2592163085938 732.3814086914062 C 342.6242065429688 733.6371459960938 355.2335815429688 734.2738647460938 367.7369384765625 734.2738647460938 C 380.0540161132812 734.2738647460938 392.4767456054688 733.6559448242188 404.6600341796875 732.4373168945312 C 416.6691284179688 731.2360229492188 428.7388610839844 729.421875 440.5338439941406 727.0451049804688 C 463.7392883300781 722.369140625 486.5838623046875 715.3888549804688 508.4330444335938 706.298095703125 C 529.88671875 697.3719482421875 550.6109619140625 686.3168334960938 570.0298461914062 673.43994140625 C 589.2596435546875 660.6884155273438 607.3895874023438 646.0319213867188 623.9158325195312 629.8777465820312 C 640.4330444335938 613.7325439453125 655.4943237304688 595.9486694335938 668.6812744140625 577.0202026367188 C 681.9837646484375 557.926025390625 693.5021362304688 537.4889526367188 702.9165649414062 516.276611328125 C 712.4954833984375 494.6935729980469 719.9973754882812 472.0769348144531 725.2137451171875 449.0546569824219 C 727.8634643554688 437.3601989746094 729.960205078125 425.3822021484375 731.4456787109375 413.4534912109375 C 732.9521484375 401.3558349609375 733.8670043945312 389.0100402832031 734.1650390625 376.759033203125 C 734.2371826171875 373.7906799316406 734.2738647460938 370.7552185058594 734.2738647460938 367.7369384765625 C 734.2738647460938 342.1010437011719 731.6154174804688 316.4953918457031 726.3723754882812 291.6313171386719 C 721.272216796875 267.4444885253906 713.68359375 243.74365234375 703.8173217773438 221.1873168945312 C 698.7081298828125 209.5062866210938 692.94384765625 197.9952392578125 686.6847534179688 186.9737548828125 C 680.4813232421875 176.0504150390625 673.6314697265625 165.3258666992188 666.3255615234375 155.0980224609375 C 649.7190551757812 131.849853515625 630.39208984375 110.5255126953125 608.8817749023438 91.71722412109375 C 587.2852172851562 72.833740234375 563.5078125 56.50518798828125 538.2100830078125 43.18511962890625 C 512.4661254882812 29.630126953125 485.1265869140625 19.1834716796875 456.9507446289062 12.1353759765625 C 442.6122131347656 8.54864501953125 427.8835754394531 5.8077392578125 413.1739501953125 3.98883056640625 C 398.2088623046875 2.1383056640625 382.9216613769531 1.20001220703125 367.7369384765625 1.20001220703125 M 367.7369384765625 0 C 491.2190246582031 0 600.4859619140625 60.86199951171875 667.302001953125 154.4005126953125 C 681.9642944335938 174.9268188476562 694.5712890625 197.053955078125 704.916748046875 220.7064208984375 C 724.5202026367188 265.5240173339844 735.473876953125 315.3512878417969 735.473876953125 367.7369384765625 C 735.473876953125 370.7833862304688 735.4368286132812 373.8211059570312 735.3646850585938 376.7882080078125 C 730.5260009765625 575.7345581054688 567.7859497070312 735.473876953125 367.7369384765625 735.473876953125 C 164.6414794921875 735.473876953125 0 570.8323974609375 0 367.7369384765625 C 0 164.6414794921875 164.6414794921875 0 367.7369384765625 0 Z" stroke="none"/>
                        </g>
                      </g>
                      <g id="Tracé_14-5" data-name="Tracé 14" transform="translate(9)" fill="none">
                        <path d="M367.737,0C491.219,0,600.486,60.862,667.3,154.4a365.815,365.815,0,0,1,68.172,213.336c0,3.046-.037,6.084-.109,9.051-4.839,198.946-167.579,358.686-367.628,358.686C164.641,735.474,0,570.832,0,367.737S164.641,0,367.737,0Z" stroke="none"/>
                        <path d="M 367.7369384765625 1.20001220703125 C 355.2335815429688 1.20001220703125 342.6242065429688 1.83673095703125 330.2592163085938 3.09246826171875 C 318.073486328125 4.33001708984375 305.8289489746094 6.19873046875 293.8656616210938 8.646728515625 C 270.3324890136719 13.46240234375 247.1844787597656 20.64794921875 225.0645751953125 30.00384521484375 C 203.3460083007812 39.19000244140625 182.3983764648438 50.56005859375 162.803466796875 63.79803466796875 C 143.3944702148438 76.91058349609375 125.1430053710938 91.96942138671875 108.5562133789062 108.5562133789062 C 91.96942138671875 125.1430053710938 76.91058349609375 143.3944702148438 63.79803466796875 162.803466796875 C 50.56005859375 182.3983764648438 39.19000244140625 203.3460083007812 30.00384521484375 225.0645751953125 C 20.64794921875 247.1844787597656 13.46240234375 270.3324890136719 8.646728515625 293.8656616210938 C 6.19873046875 305.8289489746094 4.33001708984375 318.073486328125 3.09246826171875 330.2592163085938 C 1.83673095703125 342.6242065429688 1.20001220703125 355.2335815429688 1.20001220703125 367.7369384765625 C 1.20001220703125 380.2402954101562 1.83673095703125 392.8496704101562 3.09246826171875 405.2146606445312 C 4.33001708984375 417.400390625 6.19873046875 429.6449279785156 8.646728515625 441.6082153320312 C 13.46240234375 465.1413879394531 20.64794921875 488.2893981933594 30.00384521484375 510.4093017578125 C 39.19000244140625 532.1278686523438 50.56005859375 553.0755004882812 63.79803466796875 572.67041015625 C 76.91058349609375 592.0794067382812 91.96942138671875 610.3308715820312 108.5562133789062 626.9176635742188 C 125.1430053710938 643.5045166015625 143.3944702148438 658.5632934570312 162.803466796875 671.6758422851562 C 182.3983764648438 684.913818359375 203.3460083007812 696.2838745117188 225.0645751953125 705.4700317382812 C 247.1844787597656 714.825927734375 270.3324890136719 722.011474609375 293.8656616210938 726.8271484375 C 305.8289489746094 729.275146484375 318.073486328125 731.1438598632812 330.2592163085938 732.3814086914062 C 342.6242065429688 733.6371459960938 355.2335815429688 734.2738647460938 367.7369384765625 734.2738647460938 C 380.0540161132812 734.2738647460938 392.4767456054688 733.6559448242188 404.6600341796875 732.4373168945312 C 416.6691284179688 731.2360229492188 428.7388610839844 729.421875 440.5338439941406 727.0451049804688 C 463.7392883300781 722.369140625 486.5838623046875 715.3888549804688 508.4330444335938 706.298095703125 C 529.88671875 697.3719482421875 550.6109619140625 686.3168334960938 570.0298461914062 673.43994140625 C 589.2596435546875 660.6884155273438 607.3895874023438 646.0319213867188 623.9158325195312 629.8777465820312 C 640.4330444335938 613.7325439453125 655.4943237304688 595.9486694335938 668.6812744140625 577.0202026367188 C 681.9837646484375 557.926025390625 693.5021362304688 537.4889526367188 702.9165649414062 516.276611328125 C 712.4954833984375 494.6935729980469 719.9973754882812 472.0769348144531 725.2137451171875 449.0546569824219 C 727.8634643554688 437.3601989746094 729.960205078125 425.3822021484375 731.4456787109375 413.4534912109375 C 732.9521484375 401.3558349609375 733.8670043945312 389.0100402832031 734.1650390625 376.759033203125 C 734.2371826171875 373.7906799316406 734.2738647460938 370.7552185058594 734.2738647460938 367.7369384765625 C 734.2738647460938 342.1010437011719 731.6154174804688 316.4953918457031 726.3723754882812 291.6313171386719 C 721.272216796875 267.4444885253906 713.68359375 243.74365234375 703.8173217773438 221.1873168945312 C 698.7081298828125 209.5062866210938 692.94384765625 197.9952392578125 686.6847534179688 186.9737548828125 C 680.4813232421875 176.0504150390625 673.6314697265625 165.3258666992188 666.3255615234375 155.0980224609375 C 649.7190551757812 131.849853515625 630.39208984375 110.5255126953125 608.8817749023438 91.71722412109375 C 587.2852172851562 72.833740234375 563.5078125 56.50518798828125 538.2100830078125 43.18511962890625 C 512.4661254882812 29.630126953125 485.1265869140625 19.1834716796875 456.9507446289062 12.1353759765625 C 442.6122131347656 8.54864501953125 427.8835754394531 5.8077392578125 413.1739501953125 3.98883056640625 C 398.2088623046875 2.1383056640625 382.9216613769531 1.20001220703125 367.7369384765625 1.20001220703125 M 367.7369384765625 0 C 491.2190246582031 0 600.4859619140625 60.86199951171875 667.302001953125 154.4005126953125 C 681.9642944335938 174.9268188476562 694.5712890625 197.053955078125 704.916748046875 220.7064208984375 C 724.5202026367188 265.5240173339844 735.473876953125 315.3512878417969 735.473876953125 367.7369384765625 C 735.473876953125 370.7833862304688 735.4368286132812 373.8211059570312 735.3646850585938 376.7882080078125 C 730.5260009765625 575.7345581054688 567.7859497070312 735.473876953125 367.7369384765625 735.473876953125 C 164.6414794921875 735.473876953125 0 570.8323974609375 0 367.7369384765625 C 0 164.6414794921875 164.6414794921875 0 367.7369384765625 0 Z" stroke="none" fill="#abc4ff"/>
                      </g>
                    </g>
            </svg>
            <div ref={navBar} className="navBar">
              <div className="element">
                <a className="headerLink" onClick={(e) => {handleClick(e)}} href="#aboutMe">About Me</a>
                <span></span>
              </div>
              <div className="element">
                <a className="headerLink" onClick={(e) => {handleClick(e)}} href="#studies">My Studies</a>
                <span></span>
              </div>
              <div className="element">
                <a className="headerLink" onClick={(e) => {handleClick(e)}} href="#skills">My Skills</a>
                <span></span>
              </div>
            </div>
            <div ref={navBar2} className="navBar">
              <div className="element">
                <a className="headerLink" onClick={(e) => {handleClick(e)}} href="#formContact">Contact Form</a>
                <span></span>
              </div>
              <div className="element">
                <a className="headerLink" onClick={(e) => {handleClick(e)}} href="#moreInfoContact">More Infos</a>
                <span></span>
              </div>
            </div>
        </div>
      </header>
    </>
  );
}
  
export default Header;